<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ | Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
    }
  </style>
</head>
<body class="relative min-h-screen p-6">
  <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏•‡πà‡∏™‡∏µ + ‡∏ß‡∏á‡∏Å‡∏•‡∏°‡∏ö‡∏≤‡∏á‡πÜ -->
  <div aria-hidden="true" class="fixed inset-0 -z-10 bg-gradient-to-tr from-blue-400 via-purple-300 to-blue-200">
    <svg class="absolute inset-0 w-full h-full" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="pattern-circles" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
          <circle cx="30" cy="30" r="2" fill="rgba(255,255,255,0.15)" />
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#pattern-circles)" />
    </svg>
  </div>

  <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ -->
  <div class="max-w-6xl mx-auto bg-white rounded-2xl shadow-xl p-8 relative z-10">
    <h1 class="text-3xl font-extrabold text-blue-700 text-center mb-8 select-none">
      üì¶ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Stock ‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å 30 ‡∏õ‡∏µ
    </h1>

    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
    <form id="productForm" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
      <div class="flex flex-col">
        <label for="type" class="font-semibold mb-2 text-blue-800">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
        <select id="type" required class="rounded-lg border border-blue-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
          <option value="" disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
          <option>‡πÄ‡∏™‡∏∑‡πâ‡∏≠</option>
          <option>‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤</option>
          <option>‡πÅ‡∏Å‡πâ‡∏ß</option>
          <option>‡∏´‡∏°‡∏ß‡∏Å</option>
          <option>‡∏£‡πà‡∏°</option>
          <option>‡πÄ‡∏Ç‡πá‡∏°‡∏Å‡∏•‡∏±‡∏î</option>
          <option>‡∏™‡∏°‡∏∏‡∏î</option>
          <option>‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤</option>
        </select>
      </div>

      <div class="flex flex-col">
        <label for="color" class="font-semibold mb-2 text-blue-800">‡∏™‡∏µ</label>
        <select id="color" required class="rounded-lg border border-blue-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
          <option value="" disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ --</option>
          <option>‡∏î‡∏≥</option>
          <option>‡∏Ç‡∏≤‡∏ß</option>
          <option>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</option>
          <option>‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</option>
          <option>‡πÄ‡∏ó‡∏≤</option>
          <option>‡πÅ‡∏î‡∏á</option>
          <option>‡∏ü‡πâ‡∏≤</option>
        </select>
      </div>

      <div class="flex flex-col">
        <label for="size" class="font-semibold mb-2 text-blue-800">‡πÑ‡∏ã‡∏ï‡πå</label>
        <select id="size" required class="rounded-lg border border-blue-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
          <option value="" disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ã‡∏ï‡πå --</option>
          <option>‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ã‡∏ï‡πå</option>
          <option>XS</option>
          <option>S</option>
          <option>M</option>
          <option>L</option>
          <option>XL</option>
          <option>XXL</option>
        </select>
      </div>

      <div class="flex flex-col">
        <label for="price" class="font-semibold mb-2 text-blue-800">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
        <input
          id="price"
          type="number"
          min="0"
          placeholder="‡πÄ‡∏ä‡πà‡∏ô 350"
          required
          class="rounded-lg border border-blue-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
        />
      </div>

      <div class="flex flex-col">
        <label for="quantity" class="font-semibold mb-2 text-blue-800">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏ä‡∏¥‡πâ‡∏ô)</label>
        <input
          id="quantity"
          type="number"
          min="1"
          placeholder="‡πÄ‡∏ä‡πà‡∏ô 10"
          required
          class="rounded-lg border border-blue-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
        />
      </div>

      <div class="flex flex-col">
        <label for="image" class="font-semibold mb-2 text-blue-800">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
        <input
          id="image"
          type="file"
          accept="image/*"
          class="rounded-lg border border-blue-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition cursor-pointer"
        />
      </div>

      <div class="md:col-span-3">
        <button
          type="submit"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg transition"
        >
          ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Stock
        </button>
      </div>
    </form>

    <!-- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
    <div id="notification" class="fixed bottom-6 right-6 bg-green-500 text-white px-5 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none transition-opacity select-none"></div>

    <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á -->
    <div class="overflow-x-auto rounded-lg shadow-md border border-blue-200">
      <h2 class="text-2xl font-semibold text-blue-700 p-6 border-b border-blue-200 select-none">
        üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô Stock
      </h2>
      <table class="min-w-full text-center text-gray-700">
        <thead class="bg-blue-100 text-blue-800 font-semibold">
          <tr>
            <th class="p-4 border border-blue-300">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
            <th class="p-4 border border-blue-300">‡∏™‡∏µ</th>
            <th class="p-4 border border-blue-300">‡πÑ‡∏ã‡∏ï‡πå</th>
            <th class="p-4 border border-blue-300">‡∏£‡∏≤‡∏Ñ‡∏≤</th>
            <th class="p-4 border border-blue-300">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
            <th class="p-4 border border-blue-300">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</th>
            <th class="p-4 border border-blue-300">‡∏•‡∏ö</th>
          </tr>
        </thead>
        <tbody id="stockTable" class="bg-white divide-y divide-blue-100"></tbody>
      </table>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    const form = document.getElementById('productForm');
    const stockTable = document.getElementById('stockTable');
    const notification = document.getElementById('notification');

    function showNotification(message) {
      notification.textContent = message;
      notification.style.opacity = '1';
      notification.style.pointerEvents = 'auto';
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.pointerEvents = 'none';
      }, 3000);
    }

    function addRowToTable(item) {
      const row = document.createElement('tr');
      row.classList.add('hover:bg-blue-50', 'transition');

      row.innerHTML = `
        <td class="p-4 border border-blue-200">${item.type}</td>
        <td class="p-4 border border-blue-200">${item.color}</td>
        <td class="p-4 border border-blue-200">${item.size}</td>
        <td class="p-4 border border-blue-200">${item.price} ‡∏ø</td>
        <td class="p-4 border border-blue-200">${item.quantity}</td>
        <td class="p-4 border border-blue-200">
          ${item.imageSrc ? `<img src="${item.imageSrc}" alt="‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" class="w-16 h-16 object-cover rounded mx-auto" />` : '‚Äî'}
        </td>
        <td class="p-4 border border-blue-200">
          <button class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-semibold transition">
            üóëÔ∏è ‡∏•‡∏ö
          </button>
        </td>
      `;

      row.querySelector('button').addEventListener('click', () => {
        if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏à‡∏∞‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
          row.remove();
          saveStockToLocalStorage();
          showNotification('‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üéâ');
        }
      });

      stockTable.appendChild(row);
    }

    function saveStockToLocalStorage() {
      const items = [];
      stockTable.querySelectorAll('tr').forEach((row) => {
        const tds = row.querySelectorAll('td');
        items.push({
          type: tds[0].textContent,
          color: tds[1].textContent,
          size: tds[2].textContent,
          price: tds[3].textContent.replace(' ‡∏ø', ''),
          quantity: tds[4].textContent,
          imageSrc: tds[5].querySelector('img')?.src || ''
        });
      });
      localStorage.setItem('stockItems', JSON.stringify(items));
    }

    document.addEventListener('DOMContentLoaded', () => {
      const savedStock = JSON.parse(localStorage.getItem('stockItems')) || [];
      savedStock.forEach(item => addRowToTable(item));
    });

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const type = document.getElementById('type').value;
      const color = document.getElementById('color').value;
      const size = document.getElementById('size').value;
      const price = document.getElementById('price').value.trim();
      const quantity = document.getElementById('quantity').value.trim();
      const imageFile = document.getElementById('image').files[0];

      if (!type || !color || !size || !price || !quantity) {
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
        return;
      }

      if (imageFile) {
        const reader = new FileReader();
        reader.onload = function(event) {
          addRowToTable({ type, color, size, price, quantity, imageSrc: event.target.result });
          saveStockToLocalStorage();
          form.reset();
          showNotification('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üéâ');
        };
        reader.readAsDataURL(imageFile);
      } else {
        addRowToTable({ type, color, size, price, quantity, imageSrc: '' });
        saveStockToLocalStorage();
        form.reset();
        showNotification('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üéâ');
      }
    });
  </script>
</body>
</html>
